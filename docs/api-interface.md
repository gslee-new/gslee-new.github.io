---
layout: default
title: 문서화 도구
nav_order: 2
---
# API Interface 제공

신규 프로젝트가 시작되면 일련의 개발프로세스 단계를 진행하게 된다. 단계 중 구현 단계를 시작하게 되었을 때
FE와 BE의 개발 시작점이 다를 수 있는 부분이 존재한다.
FE의 경우 BE의 API 명세로 기능을 구현하기 때문에 BE의 API 기능 구현 후 FE 의 기능을 개발할 수 있기 때문이다.
시간차가 발생되면 FE는 시간을 낭비하게 된다. 시간을 낭비하지 않고 api 명세를 제공할 방법이 필요하였다.
또한 FE와 BE의 원활한 협업을 위한 방법도 고민의 대상이였다.


## 고민한 해결 방법
이런 문제점을 해결하기 위해서 생각한 것은 문서화 도구를 이용하여 api명세를 제공하는 것이였다.
문서화 도구에는 OpenApi3, Spring RestDocs 있다. 
설계 단계시 인터페이스 정의서를 만들고 이 스펙으로 문서화 도구에서 api 명세를 제공하면 해결될 것이라고 생각하였다.

## 해결 방법이라고 생각한 부분의 문제점
문서화 도구로 제공하기 위해선 문서화 도구 라이브러리를 적용하는 것 외에 추가 작업들이 필요하였다.
openapi3으로 제공할 경우 web-layer(controller) 코드가 선행적으로 작성되어 있어야 했다.
spring rest docs은 web-layer 및 테스트 코드가 작성되어야 한다.
(* 문서화 도구를 사용하기 위한 추가 리소스 사용 및 러닝 커브는 제외)
결국, FE가 바로 작업할 수 없고 텀은 존재하게 된다. 

## 선행작업 없이 문서화 도구를 제공할 수 없나?
선행작업(코드생성, 테스트코드) 없이 문서화 도구를 사용할 방법을 찾았다.
OAS(OpenApi Spec)으로 api명세를 작성하고 openapi3에 OAS파일을 적용하여 ui로 제공하는 방법이다.
설계단계에서 생성한 인터페이스 정의서를 기반으로 OAS파일로 정의하고 임시로 도커나 서버에 openapi3 정적 정보만
노출하면 끝이였다.

## 그럼 이제 고민거리 해결된거야?
해결방법을 도출하고 나서 협업하게될 FE 개발자 및 이해 관계자들과 대화를 나누면서 이 방법이 괜찮냐고 물어보니
다양한 답변을 들을 수 있었다.
- 설계 단계에서 만든 인터페이스 정의서를 보고 개발을 진행할 수 있기 때문에 문서화 도구를 만드는 것은 일을 두번하는것 아니냐는 의견
- 문서화 도구가 제공되더라고 실제 테스트할 수 있는 mock 데이터들이 없기 때문에 큰 메리트가 없다는 의견
- openapi3의 기재된 request / response 값으로 FE/APP에서 코드 제네레이터로 오프젝트로 만들어 사용할 수 있어서 괜찮다는 의견

다양한 의견을 듣고 도출된 생각은 
문서화 도구로 제공되는 내용은 인터페이스 정의서로 대체될 수 있다. 
문서화 도구로 제공되면 OAS/json 정보를 재사용할 수 있다.
개발 구현 이후에 문서화 도구로 api 테스트를 제공할 수 있다.

일을 두번할 수도 있단 의견이 있어서 불필요한 것일지도 모르겠다고 생각하였지만
개발 구현 이후 문서화 도구를 통해서 api 테스트를 제공할 수 있기 때문에 구현 초기에 문서화 도구를 제공하는 것이
넓은 관점에서 더 유용할 수 있다는 결론을 내렸다.


## 구조
구현 초기: openapi3 + oas
구현 중/후기: openapi3 + spring-web

